<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cashout App</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 50px;
        }
        button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 16px;
        }
        #earnings {
            font-size: 24px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

    <div id="earnings">£0.00</div>
    <button id="earnButton">Earn £1</button>
    <div id="cashoutContainer"></div>

    <script>
        let totalEarnings = 0;

        // Function to update the earnings display
        function updateEarnings() {
            document.getElementById('earnings').innerText = '£' + totalEarnings.toFixed(2);
        }

        // Function to handle earning money
        document.getElementById('earnButton').onclick = function() {
            totalEarnings += 1; // Add £1
            updateEarnings(); // Update the earnings display

            // Show cashout button if earnings are greater than £0
            if (totalEarnings > 0) {
                showCashoutButton();
            }
        };

        // Function to show the cashout button
        function showCashoutButton() {
            const cashoutContainer = document.getElementById('cashoutContainer');
            if (!document.getElementById('cashoutButton')) {
                const cashoutButton = document.createElement('button');
                cashoutButton.id = 'cashoutButton';
                cashoutButton.innerText = 'Cash Out';
                cashoutButton.onclick = showCashoutOptions;
                cashoutContainer.appendChild(cashoutButton);
            }
        }

        // Function to show cashout options
        function showCashoutOptions() {
            const cashoutContainer = document.getElementById('cashoutContainer');

            // Remove existing cashout options if they exist
            const existingOptions = cashoutContainer.querySelectorAll('.cashout-option');
            existingOptions.forEach(option => option.remove());

            // Create cashout options
            const paypalButton = document.createElement('button');
            paypalButton.className = 'cashout-option';
            paypalButton.innerText = 'Cash Out with PayPal';
            paypalButton.onclick = cashoutWithPayPal;

            const bankTransferButton = document.createElement('button');
            bankTransferButton.className = 'cashout-option';
            bankTransferButton.innerText = 'Cash Out with Bank Transfer';
            bankTransferButton.onclick = cashoutWithBankTransfer;

            cashoutContainer.appendChild(paypalButton);
            cashoutContainer.appendChild(bankTransferButton);
        }

        // Function to handle cashout with PayPal
        function cashoutWithPayPal() {
            // Redirect user or trigger PayPal payout
            alert('Redirecting to PayPal...'); 
            window.location.href = "https://www.paypal.com"; // Redirect to PayPal
            // Alternatively, trigger the payout via an API call to your backend
            // Example: fetch('/api/payout/paypal', { method: 'POST', body: JSON.stringify({ amount: totalEarnings }) });
        }

        // Function to handle cashout with Bank Transfer
        function cashoutWithBankTransfer() {
            // Redirect user to a form to enter bank details
            alert('Redirecting to bank transfer form...');
            window.location.href = "/bank-transfer"; // Redirect to your bank transfer page
            // Alternatively, trigger the payout via an API call to your backend
            // Example: fetch('/api/payout/bank-transfer', { method: 'POST', body: JSON.stringify({ amount: totalEarnings }) });
        }

    </script>
</body>
</html>
